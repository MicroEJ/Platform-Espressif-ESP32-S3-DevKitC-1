<?xml version="1.0" encoding="UTF-8"?>
<!--
	ANT Buildfile

	Copyright 2021 MicroEJ Corp. All rights reserved.
	This library is provided in source code for use, modification and test, subject to license terms.
	Any modification of the source code will break MicroEJ Corp. warranties on the whole library.
-->
<project name="http-download-1.1-testsuite-init">

	<import file="${scripts.dir}/extension-init.xml" />

	<target name="context/http-download-1.1-testsuite" extensionOf="init/context">
	</target>

	<target name="init/http-download-1.1-testsuite" extensionOf="init/execution">
		<augment id="init.properties">
			<propertyref name="network.interface"/>
			<propertyref name="network.interface.manager"/>
			<propertyref name="download.thread.num"/>
			<propertyref name="download.thread.loop"/>
			<propertyref name="download.resource.url"/>
			<propertyref name="download.resource.crc32"/>
			<propertyref name="log.filter"/>
		</augment>
		<condition property="network.interface.manager.type" value="net.http.download.manager.IWifiNetworkManager">
				<equals arg1="${network.interface.manager}" arg2="net.http.download.manager.WifiNetworkManager"/>
		</condition>
		<condition property="network.interface.manager.type" value="net.http.download.manager.IEthernetNetworkManager">
				<equals arg1="${network.interface.manager}" arg2="net.http.download.manager.EthernetNetworkManager"/>
		</condition>
		<condition property="network.interface.manager.type" value="net.http.download.manager.IMobileNetworkManager">
				<equals arg1="${network.interface.manager}" arg2="net.http.download.manager.MobileNetworkManager"/>
		</condition>
		<augment id="init.requires">
			<string value="${network.interface.manager}"/>
		</augment>
		<property name="${network.interface.manager.type}" value="${network.interface.manager}"></property>
	</target>

	<target name="finalization/http-download-1.1-testsuite" extensionOf="init/finalization">

	</target>

</project>
